---
title: Configuration
description: Learn how to configure the QuranClient with authentication, defaults, and custom options.
---

## Basic Configuration

The `QuranClient` requires authentication credentials to access the Quran.com API:

```ts
import { QuranClient, Language } from "@quranjs/api";

const client = new QuranClient({
  clientId: "your-client-id",
  clientSecret: "your-client-secret"
});
```

## Configuration Options

### Authentication (Required)

```ts
interface QuranClientConfig {
  /** Client ID for authentication */
  clientId: string;
  /** Client secret for authentication */
  clientSecret: string;
}
```

### Base URLs (Optional)

Customize the API endpoints:

```ts
const client = new QuranClient({
  clientId: "your-client-id",
  clientSecret: "your-client-secret",

  // Override default API endpoints
  contentBaseUrl: "https://apis.quran.foundation", // Default
  authBaseUrl: "https://oauth2.quran.foundation"   // Default
});
```

### Default Parameters

Set default parameters that will be applied to all API requests:

```ts
const client = new QuranClient({
  clientId: "your-client-id",
  clientSecret: "your-client-secret",

  defaults: {
    language: Language.ENGLISH,
    // Any other BaseApiParams can be set as defaults
  }
});
```

### Custom Fetch Implementation

Provide a custom fetch function for specialized environments:

```ts
import fetch from "node-fetch"; // For Node.js environments

const client = new QuranClient({
  clientId: "your-client-id",
  clientSecret: "your-client-secret",

  fetch: fetch as any // Custom fetch implementation
});
```

## Runtime Configuration

### Reading Current Configuration

```ts
const currentConfig = client.getConfig();
console.log(currentConfig);
```

### Updating Configuration

Update configuration at runtime:

```ts
client.updateConfig({
  contentBaseUrl: "https://custom-api.example.com",
  defaults: {
    language: Language.ARABIC
  }
});
```

### Authentication Management

#### Clearing Cached Tokens

Force token renewal by clearing the cached authentication token:

```ts
client.clearCachedToken();
```

This is useful when:

- You need to force re-authentication
- You suspect the cached token is invalid
- You're switching between different environments

## Language Options

The library supports multiple languages through the `Language` enum:

```ts
import { Language } from "@quranjs/api";

// Available languages
Language.ARABIC      // "ar" - Arabic
Language.ENGLISH     // "en" - English
Language.URDU        // "ur" - Urdu
Language.HINDI       // "hi" - Hindi
Language.FRENCH      // "fr" - French
Language.TURKISH     // "tr" - Turkish
Language.RUSSIAN     // "ru" - Russian
Language.SPANISH     // "es" - Spanish
Language.CHINESE     // "zh" - Chinese
Language.PERSIAN     // "fa" - Persian
Language.MALAY       // "ms" - Malay
Language.INDONESIAN  // "id" - Indonesian
Language.BENGALI     // "bn" - Bengali
Language.GERMAN      // "de" - German
Language.JAPANESE    // "ja" - Japanese
Language.THAI        // "th" - Thai
```

### Setting Default Language

```ts
const client = new QuranClient({
  clientId: "your-client-id",
  clientSecret: "your-client-secret",
  defaults: {
    language: Language.ENGLISH // All requests will use English by default
  }
});
```

### Overriding Language Per Request

```ts
// This request will use Arabic despite English being the default
const chapters = await client.chapters.findAll({
  language: Language.ARABIC
});
```

## Environment Variables

For security, store credentials in environment variables:

```bash
# .env file
QURAN_CLIENT_ID=your-client-id
QURAN_CLIENT_SECRET=your-client-secret
```

```ts
const client = new QuranClient({
  clientId: process.env.QURAN_CLIENT_ID!,
  clientSecret: process.env.QURAN_CLIENT_SECRET!,
  defaults: {
    language: Language.ENGLISH
  }
});
```

## Complete Configuration Example

```ts
import { QuranClient, Language } from "@quranjs/api";

const client = new QuranClient({
  // Required authentication
  clientId: process.env.QURAN_CLIENT_ID!,
  clientSecret: process.env.QURAN_CLIENT_SECRET!,

  // Optional: Custom API endpoints
  contentBaseUrl: "https://apis.quran.foundation",
  authBaseUrl: "https://oauth2.quran.foundation",

  // Optional: Custom fetch (useful for Node.js or testing)
  fetch: globalThis.fetch,

  // Optional: Default parameters for all requests
  defaults: {
    language: Language.ENGLISH,
  }
});

// Runtime configuration updates
client.updateConfig({
  defaults: {
    language: Language.ARABIC
  }
});

// Force token refresh if needed
client.clearCachedToken();
```
